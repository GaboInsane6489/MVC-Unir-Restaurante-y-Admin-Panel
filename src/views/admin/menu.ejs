<!DOCTYPE html>
<!-- PALETA DE COLORES
AZUL OSCURO: #2F4858 | AZUL MEDIO: #33658A | AMARILLO: #F6AE2D | NARANJA: #F26419 -->
<html lang="es">
    <head>
        <%- include("../partials/head") %>
    </head>
    <body
        class="p-6 min-h-screen flex flex-col text-[#2F4858] bg-fixed bg-cover bg-center"
        style="background-image: url('https://images.unsplash.com/photo-1600891964599-f61ba0e24092?auto=format&fit=crop&w=3000&q=80');"
    >
        <!-- ‚úÖ Capa de contraste -->
        <div class="bg-[#F6F9FC]/80 backdrop-blur-sm p-6 rounded-xl shadow-lg grow">

            <!-- ‚úÖ Navegaci√≥n superior -->
            <nav class="mb-6 flex justify-around text-base font-medium animate-slide-down">
                <a href="/admin/dashboard" class="text-[#33658A] hover:underline">üìä Dashboard</a>
                <a href="/" class="text-[#33658A] hover:underline">üè† Inicio</a>
                <a href="/manage" class="text-[#33658A] hover:underline">üìã Pedidos</a>
            </nav>

            <!-- ‚úÖ T√≠tulo principal -->
            <div class="flex justify-center items-center h-20 rounded-xl bg-gradient-to-r from-[#2F4858] to-[#33658A] mb-6 animate-fade-in">
                <h1 class="font-bold text-4xl text-white tracking-wide">üçΩÔ∏è Men√∫ de platos</h1>
            </div>

            <!-- ‚úÖ Contenedor principal -->
            <div class="flex flex-col gap-8 justify-center bg-[#E0F7FA]/90 rounded-xl px-4 py-6 shadow-md animate-fade-in-up">
                <!-- ‚úÖ Formulario para agregar platos -->
                <form action="/admin/menu" method="POST" class="flex flex-wrap gap-4 justify-center items-center animate-pop-in">
                    <input
                        name="name"
                        type="text"
                        placeholder="Nombre del plato"
                        class="border border-[#2F4858] bg-white p-2 rounded-md focus:border-[#33658A] w-[200px]"
                        required
                    />
                    <input
                        name="price"
                        type="number"
                        placeholder="Precio"
                        class="border border-[#2F4858] bg-white p-2 rounded-md focus:border-[#33658A] w-[120px]"
                        required
                    />
                    <input
                        type="submit"
                        value="Agregar"
                        class="px-4 py-2 bg-[#33658A] text-white font-bold rounded-md cursor-pointer hover:bg-[#2F4858] transition"
                    />
                </form>

                <!-- ‚úÖ Lista de platos disponibles -->
                <div>
                    <h2 class="font-bold text-2xl text-[#33658A] mb-4 animate-slide-up">üìã Platos disponibles:</h2>
                    <ul class="flex flex-col gap-3 items-center text-lg font-medium">
                        <% items.forEach((i, idx) => { %>
                        <li
                            data-id="<%= i.id %>"
                            class="bg-white px-4 py-2 rounded-lg shadow-sm border border-[#2F4858] w-full max-w-md flex justify-between items-center animate-bounce-in delay-<%= idx * 100 %>"
                        >
                            <span><%= i.name %>: <%= i.price %>$</span>
                            <button
                                data-id="<%= i.id %>"
                                type="submit"
                                class="btn-delete-plate px-3 py-1 rounded-full text-red-700 font-bold bg-red-200 hover:bg-red-300 transition"
                                aria-label="Eliminar <%= i.name %>"
                            >
                                X
                            </button>
                        </li>
                        <% }) %>
                    </ul>
                </div>
            </div>
        </div>

        <!-- ‚úÖ Script para eliminar platos -->
        <script>
            document.querySelectorAll(".btn-delete-plate").forEach((btn) => {
                btn.onclick = async (e) => {
                    e.preventDefault();
                    const id = btn.dataset.id;
                    await fetch(`/admin/menu/delete/${id}`, { method: "DELETE" }).catch(console.error);
                    btn.parentElement.remove();
                };
            });
        </script>

        <!-- ‚úÖ Animaciones personalizadas -->
        <style>
            @keyframes fade-in-up {
                from { opacity: 0; transform: translateY(20px); }
                to { opacity: 1; transform: translateY(0); }
            }
            @keyframes bounce-in {
                0% { transform: scale(0.95); opacity: 0; }
                50% { transform: scale(1.02); opacity: 0.8; }
                100% { transform: scale(1); opacity: 1; }
            }
            @keyframes slide-down {
                from { transform: translateY(-30px); opacity: 0; }
                to { transform: translateY(0); opacity: 1; }
            }
            @keyframes slide-up {
                from { transform: translateY(30px); opacity: 0; }
                to { transform: translateY(0); opacity: 1; }
            }
            @keyframes pop-in {
                0% { transform: scale(0.9); opacity: 0; }
                100% { transform: scale(1); opacity: 1; }
            }

            .animate-fade-in-up { animation: fade-in-up 0.5s ease-out both; }
            .animate-bounce-in { animation: bounce-in 0.5s ease-out both; }
            .animate-slide-down { animation: slide-down 0.4s ease-out both; }
            .animate-slide-up { animation: slide-up 0.4s ease-out both; }
            .animate-pop-in { animation: pop-in 0.4s ease-out both; }

            /* Clases de delay din√°micas */
            .delay-0   { animation-delay: 0s; }
            .delay-100 { animation-delay: 0.1s; }
            .delay-200 { animation-delay: 0.2s; }
            .delay-300 { animation-delay: 0.3s; }
            .delay-400 { animation-delay: 0.4s; }
            .delay-500 { animation-delay: 0.5s; }
            .delay-600 { animation-delay: 0.6s; }
            .delay-700 { animation-delay: 0.7s; }
            .delay-800 { animation-delay: 0.8s; }
            .delay-900 { animation-delay: 0.9s; }
        </style>
    </body>
</html>


